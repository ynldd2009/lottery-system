# Web Interface User Guide

## 彩票分析预测系统 - 网页版使用指南

本指南介绍如何使用Web界面访问彩票分析预测系统。

## 快速开始

### 1. 启动Web服务器

#### Linux / macOS:
```bash
./start_web.sh
```

#### Windows:
```batch
start_web.bat
```

#### 或直接运行:
```bash
python web_app.py
```

### 2. 访问系统

启动后，您将看到类似以下的输出:

```
======================================
彩票分析预测系统 - Web 服务器启动脚本
======================================

✓ Python 版本: 3.10.0
✓ Flask 已安装

网络信息:
--------------------------------
本机 IP: 192.168.1.100

访问方式:
  电脑访问: http://localhost:5000
  手机访问: http://192.168.1.100:5000
--------------------------------

正在启动 Web 服务器...
```

### 3. 打开浏览器

#### 在电脑上访问:
- 打开浏览器 (Chrome, Firefox, Safari, Edge)
- 访问: `http://localhost:5000`

#### 在手机/平板上访问:
1. 确保设备和电脑在同一 WiFi 网络
2. 打开浏览器
3. 访问: `http://[电脑显示的IP]:5000`
   例如: `http://192.168.1.100:5000`

## 界面介绍

### 首页 (/)

**功能卡片:**
- 📊 数据分析: 查看统计分析结果
- 🔮 智能预测: 生成彩票预测
- 💾 数据管理: 导入导出数据
- 🛠️ 实用工具: 密码生成和记录管理

**支持的彩票类型:**
- 大乐透 (Super Lotto)
- 七星彩 (7-Star Lottery)
- 排列三 (Pick 3)
- 排列五 (Pick 5)
- 通用 (General)

**预测模型:**
- 频率分析
- 冷热号码
- 模式平衡
- 加权频率
- 间隔分析
- 移动平均
- 周期模式

### 数据分析页面 (/analysis)

**步骤:**

1. **准备数据**
   - 点击 "生成样本数据 (100条)" 按钮
   - 系统会自动生成测试数据
   - 状态显示: "✓ 已生成 100 条数据"

2. **开始分析**
   - 点击 "开始分析" 按钮
   - 等待几秒钟
   - 查看分析结果

**分析结果包括:**
- **频率分析**: 显示每个号码出现的次数
- **热号**: 最近出现频率高的号码 (红色标签)
- **冷号**: 最近出现频率低的号码 (蓝色标签)
- **模式分析**: 奇偶比、高低比等统计信息

### 智能预测页面 (/prediction)

**步骤:**

1. **选择彩票类型**
   - 从下拉菜单选择: 大乐透、七星彩、排列三、排列五或通用
   - 不同类型有不同的号码范围

2. **选择预测算法**
   - **集成预测 (推荐)**: 综合所有算法的结果
   - **单一算法**: 选择特定的预测算法

3. **生成预测**
   - 点击 "生成预测" - 获取单个预测结果
   - 点击 "所有算法预测" - 查看所有算法的预测对比

**预测结果显示:**
- 预测号码 (根据彩票类型格式化)
- 置信度百分比
- 使用的算法名称

**示例输出:**
```
预测号码
Main: [3, 12, 18, 25, 33] + Bonus: [5, 11]
置信度: 68.5%
算法: 集成预测
```

### 数据管理页面 (/data)

**功能:**

1. **生成数据**
   - 设置数据条数 (10-1000)
   - 点击 "生成样本数据"
   - 用于测试和演示

2. **导入数据**
   - 点击 "选择文件"
   - 支持格式: CSV, JSON, Excel (.xlsx, .xls)
   - 点击 "导入文件"

3. **查看数据信息**
   - 显示总数据量
   - 显示前10条数据预览
   - 每条数据包含期号和号码

**数据格式要求:**

CSV格式:
```csv
1,5,12,23,34,45
3,8,15,27,38,42
7,11,19,28,35,44
```

JSON格式:
```json
[
  [1, 5, 12, 23, 34, 45],
  [3, 8, 15, 27, 38, 42],
  [7, 11, 19, 28, 35, 44]
]
```

### 实用工具页面 (/utilities)

**功能:**

1. **密码生成器**
   - 设置密码长度 (8-32位)
   - 选择字符类型:
     - ✓ 大写字母 (A-Z)
     - ✓ 小写字母 (a-z)
     - ✓ 数字 (0-9)
     - ✓ 特殊字符 (!@#$...)
   - 点击 "生成密码"
   - 点击 "复制" 按钮复制到剪贴板

2. **预测记录**
   - 点击 "加载记录" 查看所有保存的预测
   - 每条记录显示:
     - 标题
     - 预测号码
     - 备注
     - 时间戳
   - 点击 "删除" 按钮移除记录

3. **添加新记录**
   - 填写标题 (例如: "2024-01-15预测")
   - 输入号码 (用逗号分隔, 例如: "1,5,12,23,34,45")
   - 可选填写备注
   - 点击 "添加记录"

## 移动设备使用技巧

### 手机浏览器

1. **横屏模式**
   - 旋转手机为横屏以获得更宽的视野
   - 界面会自动调整布局

2. **添加到主屏幕** (iOS Safari)
   - 点击分享按钮
   - 选择 "添加到主屏幕"
   - 像应用一样启动

3. **添加到主屏幕** (Android Chrome)
   - 点击菜单 (三个点)
   - 选择 "添加到主屏幕"
   - 创建快捷方式

### 平板设备

- 平板会使用中等尺寸的布局
- 可以同时看到更多内容
- 触摸操作流畅

## 常见问题

### Q: 手机无法访问?

**A:** 检查以下几点:
1. 手机和电脑在同一 WiFi 网络
2. 电脑防火墙允许端口 5000
3. 使用正确的 IP 地址
4. Web 服务器正在运行

### Q: 如何查找电脑IP地址?

**A:** 
- **Windows**: 打开命令提示符，输入 `ipconfig`，查找 IPv4 地址
- **Mac**: 打开终端，输入 `ifconfig | grep inet`
- **Linux**: 打开终端，输入 `ip addr` 或 `hostname -I`

### Q: 预测结果如何保存?

**A:** 
1. 复制预测号码
2. 前往 "实用工具" 页面
3. 使用 "添加新记录" 功能保存

### Q: 可以同时在多个设备上访问吗?

**A:** 
是的! 多个设备可以同时访问同一个 Web 服务器。每个设备都有独立的会话。

### Q: 数据是否会丢失?

**A:** 
- 当前数据存储在服务器内存中
- 关闭服务器后数据会丢失
- 请使用导出功能保存重要数据
- 记录会保存在 `.lottery_system/records.json` 文件中

### Q: 如何更改端口?

**A:** 
编辑 `web_app.py` 文件末尾:
```python
if __name__ == "__main__":
    run_web_app(port=8080)  # 改为 8080 或其他端口
```

### Q: 如何在后台运行服务器?

**A:** 
- **Linux/Mac**: `nohup python web_app.py > web.log 2>&1 &`
- **Windows**: 使用 Windows 服务或任务计划程序

### Q: 系统是否安全?

**A:** 
- 本地网络访问通常是安全的
- 不要将端口暴露到公网
- 生产环境请使用 HTTPS
- 查看 WEB_DEPLOYMENT.md 了解安全配置

## 性能优化建议

### 移动设备

1. **关闭其他应用**
   - 释放内存以获得更好的性能

2. **使用 WiFi 而非移动数据**
   - 确保在同一局域网内

3. **更新浏览器**
   - 使用最新版本的浏览器

### 服务器端

1. **限制并发用户**
   - 默认配置适合 1-10 个用户
   - 大量用户请使用 Gunicorn

2. **定期清理数据**
   - 避免内存中积累过多数据

3. **使用缓存**
   - 参考 WEB_DEPLOYMENT.md 启用缓存

## 键盘快捷键

### 通用

- `Alt + H`: 返回首页
- `Alt + A`: 数据分析页面
- `Alt + P`: 智能预测页面
- `Alt + D`: 数据管理页面
- `Alt + U`: 实用工具页面

### 页面操作

- `Enter`: 提交表单
- `Esc`: 关闭对话框
- `Ctrl + C`: 复制内容

## 浏览器兼容性

### 推荐浏览器

✅ **Chrome** 90+ (推荐)
✅ **Firefox** 88+
✅ **Safari** 14+ (iOS 14+)
✅ **Edge** 90+
✅ **Chrome Mobile** (Android)
✅ **Samsung Internet** (Android)

### 不支持

❌ Internet Explorer (所有版本)
❌ 旧版本移动浏览器 (iOS < 12, Android < 7)

## 技术支持

### 获取帮助

1. 查看完整文档: [README.md](README.md)
2. 部署指南: [WEB_DEPLOYMENT.md](WEB_DEPLOYMENT.md)
3. 报告问题: GitHub Issues
4. 贡献代码: [CONTRIBUTING.md](CONTRIBUTING.md)

### 日志查看

如果遇到问题，查看服务器日志:
```bash
# 日志会在终端显示
# 或查看日志文件 (如果配置了)
tail -f lottery_web.log
```

## 更新说明

### 最新版本特性

- ✨ 完全响应式设计
- 📱 优化移动设备体验
- 🎰 支持5种彩票类型
- 🔮 集成7种预测算法
- 📊 实时数据分析
- 💾 完整的数据管理
- 🔐 安全的密码生成

### 即将推出

- [ ] 用户账户系统
- [ ] 数据持久化 (数据库)
- [ ] 图表可视化增强
- [ ] 推送通知功能
- [ ] 深色模式
- [ ] 多语言支持
- [ ] 导出 PDF 报告

## 结束使用

停止 Web 服务器:
1. 在运行服务器的终端按 `Ctrl + C`
2. 等待服务器完全关闭
3. 确认 "Server stopped" 消息

## 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

---

**祝您使用愉快! 🎉**

有任何问题或建议,请在 GitHub Issues 中告诉我们。
